"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9557],{56420:(f,s,t)=>{t.d(s,{Y:()=>Q});var e=t(95208),o=t(77125),c=t(64947),E=t(93453),m=t(29365),i=t(46423),v=t(5951),l=t(26343),r=t(28233),n=t(55197),_=t(58837),g=t(72501),A=t(5893),a=t(14041),W=t(45250),X=t.n(W),S=t(70209),h=t(92483),N=t(75202),x=t(89475),H=t(10265);const V=(0,_.A)({popoverList:{minWidth:260,maxWidth:400},menuItem:{whiteSpace:"normal"}},{name:"BackstageSupportButton"}),$=({icon:d})=>{var M;const u=(0,e.n)(),L=d&&(M=u.getSystemIcon(d))!=null?M:h.NT;return a.createElement(L,null)},G=({link:d})=>{var u;return a.createElement(N.N_,{to:d.url},(u=d.title)!=null?u:d.url)},Y=({item:d})=>{var u;return a.createElement(l.A,null,a.createElement(i.A,null,a.createElement($,{icon:d.icon})),a.createElement(v.A,{primary:d.title,secondary:(u=d.links)==null?void 0:u.reduce((L,M,U)=>[...L,U>0&&a.createElement("br",{key:U}),a.createElement(G,{link:M,key:M.url})],[])}))};function Q(d){const{t:u}=(0,H.i)(x.O),{title:L,items:M,children:U}=d,{items:T}=(0,S.l)(),[j,K]=(0,a.useState)(!1),[z,D]=(0,a.useState)(null),O=V(),p=(0,A.A)(C=>C.breakpoints.down("sm")),I=C=>{D(C.currentTarget),K(!0)},P=()=>{K(!1)};return a.createElement(a.Fragment,null,a.createElement(o.A,{display:"flex",ml:1},p?a.createElement(m.A,{color:"primary",size:"small",onClick:I,"data-testid":"support-button","aria-label":"Support"},a.createElement(h.NT,null)):a.createElement(c.A,{"data-testid":"support-button","aria-label":"Support",color:"primary",onClick:I,startIcon:a.createElement(h.NT,null)},u("supportButton.title"))),a.createElement(n.Ay,{"data-testid":"support-button-popover",open:j,anchorEl:z,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:P},a.createElement(r.A,{className:O.popoverList,autoFocusItem:!!z},L&&a.createElement(l.A,{button:!1,alignItems:"flex-start",className:O.menuItem},a.createElement(g.A,{variant:"subtitle1"},L)),a.Children.map(U,(C,B)=>a.createElement(l.A,{alignItems:"flex-start",key:`child-${B}`,className:O.menuItem},C)),(M!=null?M:T).map((C,B)=>a.createElement(Y,{item:C,key:`item-${B}`}))),a.createElement(E.A,null,a.createElement(c.A,{color:"primary",onClick:P,"aria-label":"Close"},u("supportButton.close")))))}},17174:(f,s,t)=>{t.d(s,{s:()=>v});var e=t(77125),o=t(99703),c=t(58837),E=t(14041);const m=l=>(0,o.A)({root:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(22em, 1fr))",gridAutoRows:"1fr",gridGap:l.spacing(2)}}),i=(0,c.A)(m,{name:"BackstageItemCardGrid"});function v(l){const{children:r,...n}=l,_=i(n);return E.createElement(e.A,{className:_.root,...n},r)}},45575:(f,s,t)=>{t.d(s,{f:()=>l});var e=t(77125),o=t(99703),c=t(58837),E=t(72501),m=t(14041);const i=r=>(0,o.A)({root:{color:r.palette.common.white,padding:r.spacing(2,2,3),backgroundImage:r.getPageTheme({themeId:"card"}).backgroundImage,backgroundPosition:0,backgroundSize:"inherit"}}),v=(0,c.A)(i,{name:"BackstageItemCardHeader"});function l(r){const{title:n,subtitle:_,children:g}=r,A=v(r);return m.createElement(e.A,{className:A.root},_&&m.createElement(E.A,{variant:"subtitle2",component:"h3"},_),n&&m.createElement(E.A,{variant:"h6",component:"h4"},n),g)}},92303:(f,s,t)=>{t.d(s,{d:()=>E});var e=t(14041),o=t(16654),c=t(82326);function E(m){const{themeId:i,children:v,...l}=m;return e.createElement(c.Y,{themeId:i},e.createElement(o.Y,{...l}),v)}},4348:(f,s,t)=>{t.d(s,{V:()=>e});function e(o,c){return c.getOptionalBoolean("techdocs.legacyUseCaseSensitiveTripletPaths")?o:o.toLocaleLowerCase("en-US")}},67633:(f,s,t)=>{t.d(s,{o:()=>S});var e=t(14041),o=t(36338),c=t(72814),E=t(18139),m=t(54195),i=t(97214),v=t(699),l=t(53318),r=t(17749),n=t(29021),_=t(65995),g=t(87318),A=t(143),a=t(48751),W=t(4348);const X=[a.B.createTitleColumn({hidden:!0}),a.B.createNameColumn(),a.B.createOwnerColumn(),a.B.createKindColumn(),a.B.createTypeColumn()],S=h=>{const{entities:N,title:x,loading:H,columns:V,actions:$,options:G}=h,[,Y]=(0,o.A)(),Q=(0,c.S)(r.Oc),d=(0,E.gf)(m.U);if(!N)return null;const u=N.map(T=>{var K;const j=(0,v.t)(T,i.vv);return{entity:T,resolved:{docsUrl:Q({namespace:(0,W.V)((K=T.metadata.namespace)!=null?K:"default",d),kind:(0,W.V)(T.kind,d),name:(0,W.V)(T.metadata.name,d)}),ownedByRelations:j,ownedByRelationsTitle:j.map(z=>(0,l.S)(z,{defaultKind:"group"})).join(", ")}}}),L=[A.f.createCopyDocsUrlAction(Y)],M=20,U=u&&u.length>M;return e.createElement(e.Fragment,null,H||u&&u.length>0?e.createElement(n.X,{isLoading:H,options:{paging:U,pageSize:M,search:!0,actionsColumnIndex:-1,...G},data:u,columns:V||X,actions:$||L,title:x?`${x} (${u.length})`:`All (${u.length})`}):e.createElement(_.p,{missing:"data",title:"No documents to show",description:"Create your own document. Check out our Getting Started Information",action:e.createElement(g.z,{color:"primary",to:"https://backstage.io/docs/features/techdocs/getting-started",variant:"contained"},"DOCS")}))};S.columns=a.B,S.actions=A.f},143:(f,s,t)=>{t.d(s,{f:()=>v});var e=t(14041),o=t(55290),c=t(7031),E=t(80109),m=t(15303);const i=(0,c.A)({root:{color:"#f3ba37"}})(E.A),v={createCopyDocsUrlAction(l){return r=>({icon:()=>e.createElement(o.A,{fontSize:"small"}),tooltip:"Click to copy documentation link to clipboard",onClick:()=>l(`${window.location.origin}${r.resolved.docsUrl}`)})},createStarEntityAction(l,r){return n=>{const _=n.entity,g=l(_);return{cellStyle:{paddingLeft:"1em"},icon:()=>g?e.createElement(i,null):e.createElement(m.A,null),tooltip:g?"Remove from favorites":"Add to favorites",onClick:()=>r(_)}}}}},48751:(f,s,t)=>{t.d(s,{B:()=>r});var e=t(14041),o=t(77125),c=t(58837);const E=(0,c.A)(n=>({value:{marginBottom:n.spacing(.75)},subvalue:{color:n.palette.textSubtle,fontWeight:"normal"}}),{name:"BackstageSubvalueCell"});function m(n){const{value:_,subvalue:g}=n,A=E();return e.createElement(e.Fragment,null,e.createElement(o.A,{className:A.value},_),e.createElement(o.A,{className:A.subvalue},g))}var i=t(75202),v=t(14158);function l(n){return n.metadata.title||n.metadata.name}const r={createTitleColumn(n){return{...r.createNameColumn(),field:"entity.metadata.title",hidden:n==null?void 0:n.hidden}},createNameColumn(){return{title:"Document",field:"entity.metadata.name",highlight:!0,searchable:!0,defaultSort:"asc",customSort:(n,_)=>{const g=l(n.entity).toLocaleLowerCase(),A=l(_.entity).toLocaleLowerCase();return g.localeCompare(A)},render:n=>e.createElement(m,{value:e.createElement(i.N_,{to:n.resolved.docsUrl},l(n.entity)),subvalue:n.entity.metadata.description})}},createOwnerColumn(){return{title:"Owner",field:"resolved.ownedByRelationsTitle",render:({resolved:n})=>e.createElement(v.i,{entityRefs:n.ownedByRelations,defaultKind:"group"})}},createKindColumn(){return{title:"Kind",field:"entity.kind"}},createTypeColumn(){return{title:"Type",field:"entity.spec.type"}}}},59557:(f,s,t)=>{t.r(s),t.d(s,{TechDocsCustomHome:()=>z});var e=t(14041),o=t(73466),c=t(58837),E=t(97214),m=t(78560),i=t(18139),v=t(94223),l=t(699);function r(){const D=(0,i.gf)(v.K),{loading:O,value:p}=(0,o.A)(async()=>{const{ownershipEntityRefs:P}=await D.getBackstageIdentity();return P},[]),I=(0,e.useMemo)(()=>{const P=new Set(p!=null?p:[]);return C=>{const B=(0,l.t)(C,E.vv).map(m.U2);for(const R of B)if(P.has(R))return!0;return!1}},[p]);return{loading:O,isOwnedEntity:I}}var n=t(30043),_=t(24259),g=t(67633),A=t(17749),a=t(4348),W=t(72814),X=t(54195),S=t(17174),h=t(45575),N=t(87318),x=t(40703),H=t(59469),V=t(48653),$=t(57369);const G=D=>{const{entities:O}=D,p=(0,W.S)(A.Oc),I=(0,i.gf)(X.U);return O?e.createElement(S.s,{"data-testid":"docs-explore"},O!=null&&O.length?O.map((P,C)=>{var B,R;return e.createElement(x.A,{key:C},e.createElement($.A,null,e.createElement(h.f,{title:(B=P.metadata.title)!=null?B:P.metadata.name})),e.createElement(V.A,null,P.metadata.description),e.createElement(H.A,null,e.createElement(N.z,{to:p({namespace:(0,a.V)((R=P.metadata.namespace)!=null?R:"default",I),kind:(0,a.V)(P.kind,I),name:(0,a.V)(P.metadata.name,I)}),color:"primary","data-testid":"read_docs"},"Read Docs")))}):null):null};var Y=t(17138),Q=t(56420),d=t(16454),u=t(96872),L=t(99338),M=t(62112),U=t(44390),T=t(88461);const j={DocsTable:g.o,DocsCardGrid:G},K=({config:D,entities:O,index:p})=>{const P=(0,c.A)({panelContainer:{marginBottom:"2rem",...D.panelCSS?D.panelCSS:{}}})(),{loading:C,isOwnedEntity:B}=r(),R=j[D.panelType],J=O.filter(y=>D.filterPredicate==="ownedByUser"?C?!1:B(y):typeof D.filterPredicate=="function"&&D.filterPredicate(y));return e.createElement(e.Fragment,null,e.createElement(Y.d,{title:D.title,description:D.description},p===0?e.createElement(Q.Y,null,"Discover documentation in your ecosystem."):null),e.createElement("div",{className:P.panelContainer},e.createElement(R,{"data-testid":"techdocs-custom-panel",entities:J})))},z=D=>{const{tabsConfig:O}=D,[p,I]=(0,e.useState)(0),P=(0,i.gf)(n.v),{value:C,loading:B,error:R}=(0,o.A)(async()=>(await P.getEntities({filter:{"metadata.annotations.backstage.io/techdocs-ref":_.c},fields:["apiVersion","kind","metadata","relations","spec.owner","spec.type"]})).items.filter(F=>{var Z;return!!((Z=F.metadata.annotations)!=null&&Z["backstage.io/techdocs-ref"])})),J=O[p];return B?e.createElement(T.S,null,e.createElement(d.U,null,e.createElement(u.k,null))):R?e.createElement(T.S,null,e.createElement(d.U,null,e.createElement(L.B,{severity:"error",title:"Could not load available documentation."},e.createElement(M.z,{language:"text",text:R.toString()})))):e.createElement(T.S,null,e.createElement(U.o,{selectedIndex:p,onChange:y=>I(y),tabs:O.map(({label:y},F)=>({id:F.toString(),label:y}))}),e.createElement(d.U,{"data-testid":"techdocs-content"},J.panels.map((y,F)=>e.createElement(K,{key:F,config:y,entities:C||[],index:F}))))}},88461:(f,s,t)=>{t.d(s,{S:()=>m});var e=t(14041),o=t(92303),c=t(18139),E=t(54195);const m=i=>{var n;const{children:v}=i,r=`Documentation available in ${(n=(0,c.gf)(E.U).getOptionalString("organization.name"))!=null?n:"Backstage"}`;return e.createElement(o.d,{title:"Documentation",subtitle:r,themeId:"documentation"},v)}},55290:(f,s,t)=>{var e,o=t(4293),c=t(78920);e={value:!0},s.A=void 0;var E=c(t(14041)),m=o(t(74044)),i=(0,m.default)(E.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");s.A=i}}]);})();

//# sourceMappingURL=9557.64dc2795.chunk.js.map