"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2852],{54748:(L,f,t)=>{t.d(f,{M:()=>e});var C=t(58837),m=t(71677),c=t(14041),p=t(72501);const E=(0,C.A)({container:{overflow:"visible !important"},typo:{fontSize:"inherit",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box","-webkit-line-clamp":({line:a})=>a||1,"-webkit-box-orient":"vertical"}},{name:"BackstageOverflowTooltip"});function e(a){var s;const d=E(a);return c.createElement(m.Ay,{title:(s=a.title)!=null?s:a.text||"",placement:a.placement},c.createElement(p.A,{className:d.typo,variant:"inherit"},a.text))}},92852:(L,f,t)=>{t.r(f),t.d(f,{ConsumingComponentsCard:()=>O,ProvidingComponentsCard:()=>R});var C=t(97214),m=t(72501),c=t(16400),p=t(39557),E=t(35301),e=t(14041),a=t(21332),d=t(96872),s=t(99338),g=t(62112),h=t(75202);const O=u=>{const{variant:l="gridItem"}=u,{entity:r}=(0,c.tN)(),{entities:i,loading:o,error:n}=(0,p.E)(r,{type:C.fO});return o?e.createElement(a.n,{variant:l,title:"Consumers"},e.createElement(d.k,null)):n||!i?e.createElement(a.n,{variant:l,title:"Consumers"},e.createElement(s.B,{severity:"error",title:"Could not load components",message:e.createElement(g.z,{text:`${n}`,language:"text"})})):e.createElement(E.s,{title:"Consumers",variant:l,emptyContent:e.createElement("div",{style:{textAlign:"center"}},e.createElement(m.A,{variant:"body1"},"No component consumes this API."),e.createElement(m.A,{variant:"body2"},e.createElement(h.N_,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specconsumesapis-optional"},"Learn how to change this."))),columns:E.s.componentEntityColumns,entities:i})},R=u=>{const{variant:l="gridItem"}=u,{entity:r}=(0,c.tN)(),{entities:i,loading:o,error:n}=(0,p.E)(r,{type:C.IB});return o?e.createElement(a.n,{variant:l,title:"Providers"},e.createElement(d.k,null)):n||!i?e.createElement(a.n,{variant:l,title:"Providers"},e.createElement(s.B,{severity:"error",title:"Could not load components",message:e.createElement(g.z,{text:`${n}`,language:"text"})})):e.createElement(E.s,{title:"Providers",variant:l,emptyContent:e.createElement("div",{style:{textAlign:"center"}},e.createElement(m.A,{variant:"body1"},"No component provides this API."),e.createElement(m.A,{variant:"body2"},e.createElement(h.N_,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specprovidesapis-optional"},"Learn how to change this."))),columns:E.s.componentEntityColumns,entities:i})}},35301:(L,f,t)=>{t.d(f,{s:()=>u});var C=t(58837),m=t(14041),c=t(97214),p=t(54748),E=t(699),e=t(37281),a=t(14158),d=t(53318);const s=Object.freeze({createEntityRefColumn(l){const{defaultKind:r}=l;function i(o){var n;return((n=o.metadata)==null?void 0:n.title)||(0,d.S)(o,{defaultKind:r})}return{title:"Name",highlight:!0,customFilterAndSearch(o,n){return i(n).includes(o)},customSort(o,n){return i(o).localeCompare(i(n))},render:o=>{var n;return m.createElement(e.z,{entityRef:o,defaultKind:r,title:(n=o.metadata)==null?void 0:n.title})}}},createEntityRelationColumn(l){const{title:r,relation:i,defaultKind:o,filter:n}=l;function P(y){return(0,E.t)(y,i,n)}function A(y){return P(y).map(v=>(0,d.S)(v,{defaultKind:o})).join(", ")}return{title:r,customFilterAndSearch(y,v){return A(v).includes(y)},customSort(y,v){return A(y).localeCompare(A(v))},render:y=>m.createElement(a.i,{entityRefs:P(y),defaultKind:o})}},createOwnerColumn(){return this.createEntityRelationColumn({title:"Owner",relation:c.vv,defaultKind:"group"})},createDomainColumn(){return this.createEntityRelationColumn({title:"Domain",relation:c.jn,defaultKind:"domain",filter:{kind:"domain"}})},createSystemColumn(){return this.createEntityRelationColumn({title:"System",relation:c.jn,defaultKind:"system",filter:{kind:"system"}})},createMetadataDescriptionColumn(){return{title:"Description",field:"metadata.description",render:l=>m.createElement(p.M,{text:l.metadata.description,placement:"bottom-start",line:2})}},createSpecLifecycleColumn(){return{title:"Lifecycle",field:"spec.lifecycle"}},createSpecTypeColumn(){return{title:"Type",field:"spec.type"}}}),g=[s.createEntityRefColumn({defaultKind:"system"}),s.createDomainColumn(),s.createOwnerColumn(),s.createMetadataDescriptionColumn()],h=[s.createEntityRefColumn({defaultKind:"component"}),s.createSystemColumn(),s.createOwnerColumn(),s.createSpecTypeColumn(),s.createSpecLifecycleColumn(),s.createMetadataDescriptionColumn()];var O=t(29021);const R=(0,C.A)(l=>({empty:{padding:l.spacing(2),display:"flex",justifyContent:"center"}})),u=l=>{const{entities:r,title:i,emptyContent:o,variant:n="gridItem",columns:P,tableOptions:A={}}=l,y=R(),v={minWidth:"0",width:"100%"};return n==="gridItem"&&(v.height="calc(100% - 10px)"),m.createElement(O.X,{columns:P,title:i,style:v,emptyContent:o&&m.createElement("div",{className:y.empty},o),options:{search:!1,paging:!1,actionsColumnIndex:-1,padding:"dense",draggable:!1,...A},data:r})};u.columns=s,u.systemEntityColumns=g,u.componentEntityColumns=h},39557:(L,f,t)=>{t.d(f,{E:()=>E});var C=t(78560),m=t(18139),c=t(73466),p=t(30043);function E(e,a){var u,l;const d=(u=a==null?void 0:a.type)==null?void 0:u.toLocaleLowerCase("en-US"),s=(l=a==null?void 0:a.kind)==null?void 0:l.toLocaleLowerCase("en-US"),g=(0,m.gf)(p.v),{loading:h,value:O,error:R}=(0,c.A)(async()=>{var o;const r=(o=e.relations)==null?void 0:o.filter(n=>(!d||n.type.toLocaleLowerCase("en-US")===d)&&(!s||(0,C.KU)(n.targetRef).kind===s));if(!(r!=null&&r.length))return[];const{items:i}=await g.getEntitiesByRefs({entityRefs:r.map(n=>n.targetRef)});return i.filter(n=>!!n)},[e,d,s]);return{entities:O,loading:h,error:R}}}}]);})();

//# sourceMappingURL=2852.b18b3933.chunk.js.map