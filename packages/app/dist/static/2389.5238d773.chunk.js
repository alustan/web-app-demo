"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2389],{54748:(U,C,e)=>{e.d(C,{M:()=>t});var v=e(58837),o=e(71677),d=e(14041),y=e(72501);const a=(0,v.A)({container:{overflow:"visible !important"},typo:{fontSize:"inherit",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box","-webkit-line-clamp":({line:r})=>r||1,"-webkit-box-orient":"vertical"}},{name:"BackstageOverflowTooltip"});function t(r){var l;const T=a(r);return d.createElement(o.Ay,{title:(l=r.title)!=null?l:r.text||"",placement:r.placement},d.createElement(y.A,{className:T.typo,variant:"inherit"},r.text))}},88419:(U,C,e)=>{e.d(C,{t:()=>a});var v=e(72501),o=e(14041),d=e(90338),y=e(18139);const a=t=>{const{apiEntity:r}=t,l=(0,y.gf)(d.P).getApiDefinitionWidget(r),L=l?l.title:r.spec.type;return o.createElement(v.A,{component:"span"},L)}},2389:(U,C,e)=>{e.r(C),e.d(C,{ConsumedApisCard:()=>k,HasApisCard:()=>_,ProvidedApisCard:()=>q});var v=e(97214),o=e(72501),d=e(16400),y=e(39557),a=e(35301),t=e(14041),r=e(17400),T=e(15485),l=e(88419),L=e(18139),B=e(77125),S=e(64947),n=e(76891),O=e(93453),g=e(46805),u=e(61477),A=e(38605),c=e(31653),i=e(58837),M=e(90338),x=e(77536);const E=(0,i.A)(s=>({fullHeightDialog:{height:"calc(100% - 64px)"},root:{display:"flex",flexGrow:1,width:"100%",height:"100%"},tabs:{borderRight:`1px solid ${s.palette.divider}`,flexShrink:0},tabContents:{flexGrow:1,overflowX:"auto"},title:{color:s.palette.text.primary,wordBreak:"break-word",fontSize:s.typography.h3.fontSize,marginBottom:0},type:{textTransform:"uppercase",fontSize:11,opacity:.8,marginBottom:s.spacing(1),color:s.palette.text.primary}}));function P(s){const{children:m,value:f,index:p,...D}=s,R=E();return t.createElement("div",{role:"tabpanel",hidden:f!==p,id:`vertical-tabpanel-${p}`,"aria-labelledby":`vertical-tab-${p}`,className:R.tabContents,...D},f===p&&t.createElement(B.A,{pl:3,pr:3},m))}function W(s){return{id:`vertical-tab-${s}`,"aria-controls":`vertical-tabpanel-${s}`}}function $(s){var Q,V,Y;const{open:m,entity:f,onClose:p}=s,[D,R]=t.useState(0),h=E();(0,t.useEffect)(()=>{R(0)},[m]);const I=(0,L.gf)(M.P).getApiDefinitionWidget(f);let Z=0,J=0;return t.createElement(n.A,{fullWidth:!0,maxWidth:"xl",open:m,onClose:p,"aria-labelledby":"api-definition-dialog-title",PaperProps:{className:h.fullHeightDialog}},t.createElement(u.A,{id:"api-definition-dialog-title",disableTypography:!0},t.createElement(o.A,{className:h.type},"API - ",(Q=I==null?void 0:I.title)!=null?Q:"Raw"),t.createElement(o.A,{className:h.title,variant:"h1"},(V=f.metadata.title)!=null?V:f.metadata.name)),t.createElement(g.A,{dividers:!0,className:h.root},t.createElement(c.A,{orientation:"vertical",variant:"scrollable",value:D,onChange:(ne,ee)=>R(ee),"aria-label":"API definition options",className:h.tabs},I?t.createElement(A.A,{label:I.title,...W(Z++)}):null,t.createElement(A.A,{label:"Raw",...W(Z++)})),I?t.createElement(P,{value:D,index:J++},I.component(f.spec.definition)):null,t.createElement(P,{value:D,index:J++},t.createElement(x.e,{definition:f.spec.definition,language:(Y=I==null?void 0:I.rawLanguage)!=null?Y:f.spec.type}))),t.createElement(O.A,null,t.createElement(S.A,{onClick:p,color:"primary"},"Close")))}function z(){return{title:"Type",field:"spec.type",render:s=>t.createElement(l.t,{apiEntity:s})}}const N=({apiEntity:s})=>{const[m,f]=(0,t.useState)(!1);return t.createElement(t.Fragment,null,t.createElement(T.A,{"aria-label":"Toggle API Definition Dialog",onClick:()=>f(!m),value:m},t.createElement(r.A,null)),t.createElement($,{entity:s,open:m,onClose:()=>f(!1)}))};function X(){return{title:"API Definition",render:s=>t.createElement(N,{apiEntity:s})}}const j=[a.s.columns.createEntityRefColumn({defaultKind:"API"}),a.s.columns.createSystemColumn(),a.s.columns.createOwnerColumn(),z(),a.s.columns.createSpecLifecycleColumn(),a.s.columns.createMetadataDescriptionColumn(),X()];var b=e(21332),K=e(96872),H=e(99338),G=e(62112),F=e(75202);const k=s=>{const{variant:m="gridItem",columns:f=j}=s,{entity:p}=(0,d.tN)(),{entities:D,loading:R,error:h}=(0,y.E)(p,{type:v.Ey});return R?t.createElement(b.n,{variant:m,title:"Consumed APIs"},t.createElement(K.k,null)):h||!D?t.createElement(b.n,{variant:m,title:"Consumed APIs"},t.createElement(H.B,{severity:"error",title:"Could not load APIs",message:t.createElement(G.z,{text:`${h}`,language:"text"})})):t.createElement(a.s,{title:"Consumed APIs",variant:m,emptyContent:t.createElement("div",{style:{textAlign:"center"}},t.createElement(o.A,{variant:"body1"},"This ",p.kind.toLocaleLowerCase("en-US")," does not consume any APIs."),t.createElement(o.A,{variant:"body2"},t.createElement(F.N_,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specconsumesapis-optional"},"Learn how to change this."))),columns:f,entities:D})},w=[a.s.columns.createEntityRefColumn({defaultKind:"API"}),a.s.columns.createOwnerColumn(),z(),a.s.columns.createSpecLifecycleColumn(),a.s.columns.createMetadataDescriptionColumn()],_=s=>{const{variant:m="gridItem",columns:f=w}=s,{entity:p}=(0,d.tN)(),{entities:D,loading:R,error:h}=(0,y.E)(p,{type:v.sA,kind:"API"});return R?t.createElement(b.n,{variant:m,title:"APIs"},t.createElement(K.k,null)):h||!D?t.createElement(b.n,{variant:m,title:"APIs"},t.createElement(H.B,{severity:"error",title:"Could not load APIs",message:t.createElement(G.z,{text:`${h}`,language:"text"})})):t.createElement(a.s,{title:"APIs",variant:m,emptyContent:t.createElement("div",{style:{textAlign:"center"}},t.createElement(o.A,{variant:"body1"},"This ",p.kind.toLocaleLowerCase("en-US")," does not contain any APIs."),t.createElement(o.A,{variant:"body2"},t.createElement(F.N_,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#kind-api"},"Learn how to change this."))),columns:f,entities:D})},q=s=>{const{variant:m="gridItem",columns:f=j}=s,{entity:p}=(0,d.tN)(),{entities:D,loading:R,error:h}=(0,y.E)(p,{type:v.ZD});return R?t.createElement(b.n,{variant:m,title:"Provided APIs"},t.createElement(K.k,null)):h||!D?t.createElement(b.n,{variant:m,title:"Provided APIs"},t.createElement(H.B,{severity:"error",title:"Could not load APIs",message:t.createElement(G.z,{text:`${h}`,language:"text"})})):t.createElement(a.s,{title:"Provided APIs",variant:m,emptyContent:t.createElement("div",{style:{textAlign:"center"}},t.createElement(o.A,{variant:"body1"},"This ",p.kind.toLocaleLowerCase("en-US")," does not provide any APIs."),t.createElement(o.A,{variant:"body2"},t.createElement(F.N_,{to:"https://backstage.io/docs/features/software-catalog/descriptor-format#specprovidesapis-optional"},"Learn how to change this."))),columns:f,entities:D})}},77536:(U,C,e)=>{e.d(C,{e:()=>d});var v=e(14041),o=e(62112);const d=y=>v.createElement(o.z,{text:y.definition,language:y.language,showCopyCodeButton:!0})},35301:(U,C,e)=>{e.d(C,{s:()=>O});var v=e(58837),o=e(14041),d=e(97214),y=e(54748),a=e(699),t=e(37281),r=e(14158),T=e(53318);const l=Object.freeze({createEntityRefColumn(g){const{defaultKind:u}=g;function A(c){var i;return((i=c.metadata)==null?void 0:i.title)||(0,T.S)(c,{defaultKind:u})}return{title:"Name",highlight:!0,customFilterAndSearch(c,i){return A(i).includes(c)},customSort(c,i){return A(c).localeCompare(A(i))},render:c=>{var i;return o.createElement(t.z,{entityRef:c,defaultKind:u,title:(i=c.metadata)==null?void 0:i.title})}}},createEntityRelationColumn(g){const{title:u,relation:A,defaultKind:c,filter:i}=g;function M(E){return(0,a.t)(E,A,i)}function x(E){return M(E).map(P=>(0,T.S)(P,{defaultKind:c})).join(", ")}return{title:u,customFilterAndSearch(E,P){return x(P).includes(E)},customSort(E,P){return x(E).localeCompare(x(P))},render:E=>o.createElement(r.i,{entityRefs:M(E),defaultKind:c})}},createOwnerColumn(){return this.createEntityRelationColumn({title:"Owner",relation:d.vv,defaultKind:"group"})},createDomainColumn(){return this.createEntityRelationColumn({title:"Domain",relation:d.jn,defaultKind:"domain",filter:{kind:"domain"}})},createSystemColumn(){return this.createEntityRelationColumn({title:"System",relation:d.jn,defaultKind:"system",filter:{kind:"system"}})},createMetadataDescriptionColumn(){return{title:"Description",field:"metadata.description",render:g=>o.createElement(y.M,{text:g.metadata.description,placement:"bottom-start",line:2})}},createSpecLifecycleColumn(){return{title:"Lifecycle",field:"spec.lifecycle"}},createSpecTypeColumn(){return{title:"Type",field:"spec.type"}}}),L=[l.createEntityRefColumn({defaultKind:"system"}),l.createDomainColumn(),l.createOwnerColumn(),l.createMetadataDescriptionColumn()],B=[l.createEntityRefColumn({defaultKind:"component"}),l.createSystemColumn(),l.createOwnerColumn(),l.createSpecTypeColumn(),l.createSpecLifecycleColumn(),l.createMetadataDescriptionColumn()];var S=e(29021);const n=(0,v.A)(g=>({empty:{padding:g.spacing(2),display:"flex",justifyContent:"center"}})),O=g=>{const{entities:u,title:A,emptyContent:c,variant:i="gridItem",columns:M,tableOptions:x={}}=g,E=n(),P={minWidth:"0",width:"100%"};return i==="gridItem"&&(P.height="calc(100% - 10px)"),o.createElement(S.X,{columns:M,title:A,style:P,emptyContent:c&&o.createElement("div",{className:E.empty},c),options:{search:!1,paging:!1,actionsColumnIndex:-1,padding:"dense",draggable:!1,...x},data:u})};O.columns=l,O.systemEntityColumns=L,O.componentEntityColumns=B},39557:(U,C,e)=>{e.d(C,{E:()=>a});var v=e(78560),o=e(18139),d=e(73466),y=e(30043);function a(t,r){var O,g;const T=(O=r==null?void 0:r.type)==null?void 0:O.toLocaleLowerCase("en-US"),l=(g=r==null?void 0:r.kind)==null?void 0:g.toLocaleLowerCase("en-US"),L=(0,o.gf)(y.v),{loading:B,value:S,error:n}=(0,d.A)(async()=>{var c;const u=(c=t.relations)==null?void 0:c.filter(i=>(!T||i.type.toLocaleLowerCase("en-US")===T)&&(!l||(0,v.KU)(i.targetRef).kind===l));if(!(u!=null&&u.length))return[];const{items:A}=await L.getEntitiesByRefs({entityRefs:u.map(i=>i.targetRef)});return A.filter(i=>!!i)},[t,T,l]);return{entities:S,loading:B,error:n}}},15485:(U,C,e)=>{e.d(C,{A:()=>B});var v=e(39850),o=e(89575),d=e(14041),y=e(9546),a=e(268),t=e(7031),r=e(97740),T=e(11192),l=function(n){return{root:(0,o.A)({},n.typography.button,{boxSizing:"border-box",borderRadius:n.shape.borderRadius,padding:11,border:"1px solid ".concat((0,a.X4)(n.palette.action.active,.12)),color:(0,a.X4)(n.palette.action.active,.38),"&$selected":{color:n.palette.action.active,backgroundColor:(0,a.X4)(n.palette.action.active,.12),"&:hover":{backgroundColor:(0,a.X4)(n.palette.action.active,.15)},"& + &":{borderLeft:0,marginLeft:0}},"&$disabled":{color:(0,a.X4)(n.palette.action.disabled,.12)},"&:hover":{textDecoration:"none",backgroundColor:(0,a.X4)(n.palette.text.primary,.05),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}}}),disabled:{},selected:{},label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},sizeSmall:{padding:7,fontSize:n.typography.pxToRem(13)},sizeLarge:{padding:15,fontSize:n.typography.pxToRem(15)}}},L=d.forwardRef(function(n,O){var g=n.children,u=n.classes,A=n.className,c=n.disabled,i=c===void 0?!1:c,M=n.disableFocusRipple,x=M===void 0?!1:M,E=n.onChange,P=n.onClick,W=n.selected,$=n.size,z=$===void 0?"medium":$,N=n.value,X=(0,v.A)(n,["children","classes","className","disabled","disableFocusRipple","onChange","onClick","selected","size","value"]),j=function(K){P&&(P(K,N),K.isDefaultPrevented())||E&&E(K,N)};return d.createElement(r.A,(0,o.A)({className:(0,y.default)(u.root,A,i&&u.disabled,W&&u.selected,z!=="medium"&&u["size".concat((0,T.A)(z))]),disabled:i,focusRipple:!x,ref:O,onClick:j,onChange:E,value:N,"aria-pressed":W},X),d.createElement("span",{className:u.label},g))});const B=(0,t.A)(l,{name:"MuiToggleButton"})(L)}}]);})();

//# sourceMappingURL=2389.5238d773.chunk.js.map